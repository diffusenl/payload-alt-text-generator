{"version":3,"sources":["../src/endpoints/getMissingAlt.ts","../src/endpoints/generateAlt.ts","../src/endpoints/saveAlt.ts","../src/endpoints/saveBulkAlt.ts","../src/plugin.ts"],"sourcesContent":["import type { PayloadHandler } from 'payload'\nimport type { AltTextGeneratorPluginOptions } from '../types'\n\nexport const getMissingAlt = (\n  options: Required<AltTextGeneratorPluginOptions>\n): PayloadHandler => {\n  return async (req) => {\n    const { payload, user } = req\n\n    if (!user) {\n      return Response.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const collectionSlug =\n      (req.routeParams?.collection as string) || options.collections[0]\n\n    try {\n      const images = await payload.find({\n        collection: collectionSlug,\n        where: {\n          or: [\n            { [options.altFieldName]: { equals: '' } },\n            { [options.altFieldName]: { equals: null } },\n            { [options.altFieldName]: { exists: false } },\n          ],\n        },\n        limit: 500,\n        depth: 0,\n        select: {\n          id: true,\n          filename: true,\n          url: true,\n          [options.altFieldName]: true,\n        },\n      })\n\n      return Response.json({\n        docs: images.docs.map((img: Record<string, unknown>) => ({\n          id: img.id,\n          filename: img.filename,\n          url: img.url,\n          alt: (img[options.altFieldName] as string) || null,\n        })),\n        totalDocs: images.totalDocs,\n      })\n    } catch (error) {\n      console.error('[alt-text-generator] Error fetching images:', error)\n      return Response.json({ error: 'Failed to fetch images' }, { status: 500 })\n    }\n  }\n}\n","import type { PayloadHandler } from 'payload'\nimport type { AltTextGeneratorPluginOptions } from '../types'\nimport Anthropic from '@anthropic-ai/sdk'\n\nexport const generateAlt = (\n  options: Required<AltTextGeneratorPluginOptions>\n): PayloadHandler => {\n  return async (req) => {\n    const { user } = req\n\n    if (!user) {\n      return Response.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const body = (await req.json()) as {\n      imageId?: string\n      imageUrl?: string\n      filename?: string\n    }\n    const { imageId, imageUrl, filename } = body\n\n    if (!imageUrl) {\n      return Response.json({ error: 'Image URL is required' }, { status: 400 })\n    }\n\n    try {\n      const anthropic = new Anthropic({\n        apiKey: process.env.ANTHROPIC_API_KEY,\n      })\n\n      // Build full URL if relative\n      let fullImageUrl = imageUrl\n      if (imageUrl.startsWith('/')) {\n        const protocol = req.headers.get('x-forwarded-proto') || 'http'\n        const host = req.headers.get('host') || 'localhost:3000'\n        fullImageUrl = `${protocol}://${host}${imageUrl}`\n      }\n\n      // Fetch and convert image to base64\n      const imageResponse = await fetch(fullImageUrl)\n\n      if (!imageResponse.ok) {\n        throw new Error(`Failed to fetch image: ${imageResponse.status}`)\n      }\n\n      const imageBuffer = await imageResponse.arrayBuffer()\n      const base64Image = Buffer.from(imageBuffer).toString('base64')\n\n      // Determine media type\n      const contentType = imageResponse.headers.get('content-type') || ''\n      let mediaType: 'image/jpeg' | 'image/png' | 'image/gif' | 'image/webp' =\n        'image/jpeg'\n\n      if (contentType.includes('png')) mediaType = 'image/png'\n      else if (contentType.includes('webp')) mediaType = 'image/webp'\n      else if (contentType.includes('gif')) mediaType = 'image/gif'\n\n      // Build prompt with replacements\n      const prompt = options.prompt\n        .replace(/{filename}/g, filename || 'unknown')\n        .replace(/{maxLength}/g, String(options.maxLength))\n        .replace(/{language}/g, options.language)\n\n      const message = await anthropic.messages.create({\n        model: options.model,\n        max_tokens: 300,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              {\n                type: 'image',\n                source: {\n                  type: 'base64',\n                  media_type: mediaType,\n                  data: base64Image,\n                },\n              },\n              {\n                type: 'text',\n                text: prompt,\n              },\n            ],\n          },\n        ],\n      })\n\n      const suggestedAlt =\n        message.content[0].type === 'text'\n          ? message.content[0].text.trim().slice(0, options.maxLength)\n          : ''\n\n      return Response.json({\n        id: imageId,\n        filename,\n        suggestedAlt,\n        imageUrl,\n      })\n    } catch (error) {\n      console.error('[alt-text-generator] Error generating alt text:', error)\n      return Response.json(\n        { error: 'Failed to generate alt text', details: String(error) },\n        { status: 500 }\n      )\n    }\n  }\n}\n","import type { PayloadHandler } from 'payload'\nimport type { AltTextGeneratorPluginOptions } from '../types'\n\nexport const saveAlt = (\n  options: Required<AltTextGeneratorPluginOptions>\n): PayloadHandler => {\n  return async (req) => {\n    const { payload, user } = req\n\n    if (!user) {\n      return Response.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const body = (await req.json()) as {\n      imageId?: string\n      altText?: string\n      collectionSlug?: string\n    }\n    const { imageId, altText, collectionSlug } = body\n\n    if (!imageId || altText === undefined) {\n      return Response.json(\n        { error: 'Image ID and alt text are required' },\n        { status: 400 }\n      )\n    }\n\n    const collection = collectionSlug || options.collections[0]\n\n    try {\n      await payload.update({\n        collection,\n        id: imageId,\n        data: {\n          [options.altFieldName]: altText,\n        },\n      })\n\n      return Response.json({ success: true, id: imageId })\n    } catch (error) {\n      console.error('[alt-text-generator] Error saving alt text:', error)\n      return Response.json({ error: 'Failed to save alt text' }, { status: 500 })\n    }\n  }\n}\n","import type { PayloadHandler } from 'payload'\nimport type { AltTextGeneratorPluginOptions } from '../types'\n\nexport const saveBulkAlt = (\n  options: Required<AltTextGeneratorPluginOptions>\n): PayloadHandler => {\n  return async (req) => {\n    const { payload, user } = req\n\n    if (!user) {\n      return Response.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const body = (await req.json()) as {\n      updates?: Array<{ id: string; alt: string }>\n      collectionSlug?: string\n    }\n    const { updates, collectionSlug } = body\n\n    if (!updates || !Array.isArray(updates)) {\n      return Response.json(\n        { error: 'Updates array is required' },\n        { status: 400 }\n      )\n    }\n\n    const collection = collectionSlug || options.collections[0]\n    const results = { success: [] as string[], failed: [] as string[] }\n\n    // Process updates in parallel for better performance\n    const updatePromises = updates.map(async (update) => {\n      try {\n        await payload.update({\n          collection,\n          id: update.id,\n          data: {\n            [options.altFieldName]: update.alt,\n          },\n        })\n        return { id: update.id, success: true }\n      } catch (error) {\n        console.error(\n          `[alt-text-generator] Failed to update ${update.id}:`,\n          error\n        )\n        return { id: update.id, success: false }\n      }\n    })\n\n    const settled = await Promise.all(updatePromises)\n\n    for (const result of settled) {\n      if (result.success) {\n        results.success.push(result.id)\n      } else {\n        results.failed.push(result.id)\n      }\n    }\n\n    return Response.json(results)\n  }\n}\n","import type { Config, Plugin } from 'payload'\nimport type { AltTextGeneratorPluginOptions } from './types'\nimport { getMissingAlt } from './endpoints/getMissingAlt'\nimport { generateAlt } from './endpoints/generateAlt'\nimport { saveAlt } from './endpoints/saveAlt'\nimport { saveBulkAlt } from './endpoints/saveBulkAlt'\n\nconst defaultOptions: Required<AltTextGeneratorPluginOptions> = {\n  collections: ['media'],\n  prompt: `Generate a short alt text for this image IN {language}. The filename is \"{filename}\".\n\nRules:\n- Write in {language}\n- Keep it short: aim for 5-10 words, max {maxLength} characters\n- For logos: just use the company/brand name followed by \"logo\" (e.g. \"Rivas Zorggroep logo\")\n- For icons or decorative images: say \"decorative\"\n- For photos: briefly describe the key subject\n- Don't start with \"Image of\", \"Photo of\", \"Picture of\" or translations thereof\n- The filename often contains the subject â€” use it as a strong hint\n\nRespond with ONLY the alt text, nothing else.`,\n  maxLength: 80,\n  batchSize: 5,\n  model: 'claude-sonnet-4-20250514',\n  altFieldName: 'alt',\n  language: 'English',\n}\n\nexport const altTextGeneratorPlugin = (\n  pluginOptions: AltTextGeneratorPluginOptions = {}\n): Plugin => {\n  const options = { ...defaultOptions, ...pluginOptions }\n\n  return (incomingConfig: Config): Config => {\n    // Find and modify the specified collections\n    const collections = (incomingConfig.collections || []).map((collection) => {\n      if (!options.collections.includes(collection.slug)) {\n        return collection\n      }\n\n      // Add GenerateAltButton as afterInput on the alt field\n      const fields = (collection.fields || []).map((field) => {\n        if (!('name' in field) || field.name !== options.altFieldName) {\n          return field\n        }\n\n        const existingAdmin = 'admin' in field ? (field.admin || {}) : {}\n        const existingComponents = ('components' in existingAdmin ? existingAdmin.components : {}) || {}\n        const existingAfterInput = ('afterInput' in existingComponents && Array.isArray(existingComponents.afterInput))\n          ? existingComponents.afterInput\n          : []\n\n        return {\n          ...field,\n          admin: {\n            ...existingAdmin,\n            components: {\n              ...existingComponents,\n              afterInput: [\n                ...existingAfterInput,\n                {\n                  path: 'payload-alt-text-generator/components#GenerateAltButton',\n                  clientProps: {\n                    collectionSlug: collection.slug,\n                    altFieldName: options.altFieldName,\n                  },\n                },\n              ],\n            },\n          },\n        } as typeof field\n      })\n\n      return {\n        ...collection,\n        fields,\n        endpoints: [\n          ...(collection.endpoints || []),\n          {\n            path: '/missing-alt',\n            method: 'get' as const,\n            handler: getMissingAlt(options),\n          },\n          {\n            path: '/generate-alt',\n            method: 'post' as const,\n            handler: generateAlt(options),\n          },\n          {\n            path: '/save-alt',\n            method: 'post' as const,\n            handler: saveAlt(options),\n          },\n          {\n            path: '/save-bulk-alt',\n            method: 'post' as const,\n            handler: saveBulkAlt(options),\n          },\n        ],\n        admin: {\n          ...collection.admin,\n          components: {\n            ...collection.admin?.components,\n            beforeListTable: [\n              ...(collection.admin?.components?.beforeListTable || []),\n              {\n                path: 'payload-alt-text-generator/components#AltTextGenerator',\n                clientProps: {\n                  collectionSlug: collection.slug,\n                  options: {\n                    batchSize: options.batchSize,\n                    altFieldName: options.altFieldName,\n                  },\n                },\n              },\n            ],\n          },\n        },\n      }\n    })\n\n    return {\n      ...incomingConfig,\n      collections,\n    }\n  }\n}\n"],"mappings":"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","names":[]}